{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="is-flex is-flex-direction-row">
    <h2 class="title is-flex-grow-1">Matrices</h2>
    <a href="{% url 'create_matrix' %}" class="button is-primary is-light">New matrix</a>
</div>
{% if matrices %}
<table class="table is-striped is-hoverable is-fullwidth">
    <thead>
        <tr>
            <th>Name</th>
            <th>Vendor</th>
            <th>Product</th>
            <th>Active flows</th>
            <th>Comments</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for matrix in matrices %}
        <tr>
            <td><a href="{% url 'view_matrix' matrix.id %}">{{ matrix.name }}</a></td>
            <td>{{ matrix.vendor }}</td>
            <td>{{ matrix.product }}</td>
            <td>{{ matrix.nb_active_flows }}</td>
            <td>{{ matrix.nb_comments }}</td>
            <td>
                <div class="dropdown">
                    <div class="dropdown-trigger">
                        <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                            <span>Action</span>
                            <span class="icon is-small"><i class="fa-solid fa-angle-down" aria-hidden="true"></i></span>
                        </button>
                    </div>
                    <div class="dropdown-menu" id="dropdown-menu" role="menu">
                        <div class="dropdown-content">
                            <a href="#" class="dropdown-item has-text-grey-light">
                                Review
                            </a>
                            <a href="{% url 'edit_matrix' matrix.id %}" class="dropdown-item">
                                Edit
                            </a>
                            <hr class="dropdown-divider">
                            <a href="{% url 'delete_matrix' matrix.id %}" class="dropdown-item has-text-danger">
                                Delete
                            </a>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% else %}
<p class="is-size-1 has-text-centered has-text-grey-light">No matrices.</p>
{% endif %}
{% endblock %}